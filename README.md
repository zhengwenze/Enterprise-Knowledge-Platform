# Enterprise Knowledge Platform (EKP)

> ä¼ä¸šçº§çŸ¥è¯†åº“é—®ç­”å¹³å° - åŸºäº RAG æŠ€æœ¯çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.11-green.svg)](https://www.python.org/)
[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://openjdk.org/)
[![Next.js](https://img.shields.io/badge/Next.js-15-black.svg)](https://nextjs.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://www.docker.com/)

---

## é¡¹ç›®ç®€ä»‹

Enterprise Knowledge Platform (EKP) æ˜¯ä¸€ä¸ªä¼ä¸šçº§çŸ¥è¯†åº“é—®ç­”å¹³å°ï¼ŒåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯ï¼Œæ”¯æŒå‘˜å·¥é€šè¿‡è‡ªç„¶è¯­è¨€æŸ¥è¯¢å†…éƒ¨åˆ¶åº¦ã€æµç¨‹æ–‡æ¡£ï¼Œå®ç°æ™ºèƒ½é—®ç­”ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ“„ **æ™ºèƒ½æ–‡æ¡£å¤„ç†** - è‡ªåŠ¨è§£æPDFã€Wordã€TXTã€Markdownç­‰å¤šç§æ ¼å¼
- ğŸ” **è¯­ä¹‰æ£€ç´¢** - åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„è¯­ä¹‰æœç´¢
- ğŸ’¬ **æ™ºèƒ½é—®ç­”** - ç»“åˆå¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆå‡†ç¡®å›ç­”
- ğŸ¤– **ReAct Agent** - åŸºäºå·¥å…·è°ƒç”¨çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œæ”¯æŒå¤šæ­¥æ¨ç†
- ğŸ¢ **ä¼ä¸šçº§æ¶æ„** - å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒé«˜å¯ç”¨éƒ¨ç½²
- ğŸ¨ **ç°ä»£å‰ç«¯** - Next.js 15 + Shadcn/ui å“åº”å¼ç•Œé¢

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker Desktop 4.0+
- Docker Compose 2.0+
- Node.js 20+ (å¼€å‘æ¨¡å¼)
- 8GB+ å¯ç”¨å†…å­˜

### ä¸€é”®å¯åŠ¨ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/zhengwenze/Enterprise-Knowledge-Platform.git
cd Enterprise-Knowledge-Platform

# 2. æ„å»ºJavaé¡¹ç›®
cd ekp-biz-service && mvn clean package -DskipTests && cd ..

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
cd ekp-infra && docker-compose up -d

# 4. è®¿é—®å‰ç«¯ç•Œé¢
# http://localhost:3000
```

### å¼€å‘æ¨¡å¼å¯åŠ¨

```bash
# 1. å¯åŠ¨åç«¯æœåŠ¡
cd ekp-infra && docker-compose up -d postgres redis kafka ai-service biz-service

# 2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd ekp-web && npm install && npm run dev

# 3. è®¿é—®å‰ç«¯ç•Œé¢
# http://localhost:3000
```

### æœåŠ¡ç«¯å£

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| **Web (å‰ç«¯)** | 3000 | Next.js å‰ç«¯ç•Œé¢ |
| AI Service | 8000 | FastAPI RAGæœåŠ¡ |
| Biz Service | 8080 | Spring Bootä¸šåŠ¡æœåŠ¡ |
| PostgreSQL | 5432 | æ•°æ®åº“ (pgvector) |
| Redis | 6379 | ç¼“å­˜ |
| Kafka | 9092 | æ¶ˆæ¯é˜Ÿåˆ— |

---

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±‚ (Next.js 15)                       â”‚
â”‚              http://localhost:3000                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Service   â”‚   â”‚  Biz Service  â”‚   â”‚    Kafka      â”‚
â”‚   (Python)    â”‚   â”‚    (Java)     â”‚   â”‚  (æ¶ˆæ¯é˜Ÿåˆ—)   â”‚
â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
â”‚ â€¢ æ–‡æ¡£å¤„ç†    â”‚   â”‚ â€¢ ç”¨æˆ·ç®¡ç†    â”‚   â”‚               â”‚
â”‚ â€¢ å‘é‡æ£€ç´¢    â”‚   â”‚ â€¢ è®¢å•ç®¡ç†    â”‚   â”‚               â”‚
â”‚ â€¢ RAGé—®ç­”     â”‚   â”‚ â€¢ å·¥å•ç³»ç»Ÿ    â”‚   â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  PostgreSQL (pgvector) + Redis        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯ (ekp-web)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Next.js | 15 | React æ¡†æ¶ (App Router) |
| TypeScript | 5.x | ç±»å‹å®‰å…¨ |
| Tailwind CSS | 4.x | æ ·å¼æ¡†æ¶ |
| Shadcn/ui | latest | UI ç»„ä»¶åº“ |
| Zustand | 4.x | çŠ¶æ€ç®¡ç† |
| TanStack Query | 5.x | æ•°æ®è¯·æ±‚ç®¡ç† |

### AI æœåŠ¡ (ekp-ai-service)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.11 | è¿è¡Œç¯å¢ƒ |
| FastAPI | 0.109.0 | Webæ¡†æ¶ |
| LangChain | 0.1.0 | LLMç¼–æ’ |
| Sentence-Transformers | 2.3.1 | åµŒå…¥æ¨¡å‹ |
| pgvector | 0.2.4 | å‘é‡å­˜å‚¨ |

### ä¸šåŠ¡æœåŠ¡

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Java | 21 | è¿è¡Œç¯å¢ƒ |
| Spring Boot | 3.2.2 | Webæ¡†æ¶ |
| Spring Data JPA | 3.2.2 | æ•°æ®è®¿é—® |
| Flyway | 10.4.1 | æ•°æ®åº“è¿ç§» |

### åŸºç¡€è®¾æ–½

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| PostgreSQL + pgvector | å…³ç³»æ•°æ®åº“ + å‘é‡å­˜å‚¨ |
| Redis | ç¼“å­˜ |
| Apache Kafka | æ¶ˆæ¯é˜Ÿåˆ— |
| Docker | å®¹å™¨åŒ– |

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ–‡æ¡£ç®¡ç†

- æ”¯æŒ PDFã€TXTã€Markdown æ ¼å¼
- è‡ªåŠ¨æ–‡æ¡£è§£æå’Œåˆ‡å—
- å¤„ç†çŠ¶æ€å®æ—¶æ˜¾ç¤º

### 2. æ™ºèƒ½é—®ç­”

- åŸºäº RAG çš„å¯¹è¯å¼é—®ç­”
- å¯é€‰æ‹©ç‰¹å®šæ–‡æ¡£èŒƒå›´
- æ˜¾ç¤ºç­”æ¡ˆæ¥æºå’Œç›¸å…³åº¦è¯„åˆ†

### 3. RAG æµç¨‹

```
ç”¨æˆ·é—®é¢˜ â†’ é—®é¢˜åµŒå…¥ â†’ å‘é‡æ£€ç´¢ â†’ æ„å»ºä¸Šä¸‹æ–‡ â†’ LLMç”Ÿæˆ â†’ è¿”å›ç­”æ¡ˆ
```

---

## é¡¹ç›®ç»“æ„

```
EKP/
â”œâ”€â”€ ekp-web/                 # å‰ç«¯ (Next.js 15)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ components/      # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â””â”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ekp-ai-service/          # AIæœåŠ¡ (Python FastAPI)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/v1/          # APIç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ ekp-biz-service/         # ä¸šåŠ¡æœåŠ¡ (Java Spring Boot)
â”‚   â”œâ”€â”€ src/main/
â”‚   â”‚   â”œâ”€â”€ java/com/ekp/    # Javaä»£ç 
â”‚   â”‚   â””â”€â”€ resources/       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ pom.xml
â”‚
â”œâ”€â”€ ekp-infra/               # åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker-compose.yml   # å®¹å™¨ç¼–æ’
â”‚   â””â”€â”€ init-db/             # æ•°æ®åº“åˆå§‹åŒ–
â”‚
â””â”€â”€ docs/                    # æ–‡æ¡£
    â””â”€â”€ PRODUCT_FEATURES.md  # äº§å“åŠŸèƒ½æ–‡æ¡£
```

---

## é¡µé¢é¢„è§ˆ

### é¦–é¡µ
- ç³»ç»Ÿæ¦‚è§ˆå’Œç»Ÿè®¡ä¿¡æ¯
- å¿«é€Ÿå¼€å§‹å…¥å£
- ç³»ç»Ÿæ¶æ„å±•ç¤º

### æ–‡æ¡£ç®¡ç† (/documents)
- æ–‡æ¡£ä¸Šä¼ ï¼ˆæ‹–æ‹½æˆ–ç‚¹å‡»ï¼‰
- æ–‡æ¡£åˆ—è¡¨å’ŒçŠ¶æ€
- æ–‡æ¡£åˆ é™¤ç¡®è®¤

### æ™ºèƒ½é—®ç­” (/qa)
- å¯¹è¯å¼é—®ç­”ç•Œé¢
- å³ä¾§æ–‡æ¡£é€‰æ‹©å™¨
- ç­”æ¡ˆæ¥æºå±•ç¤º

### Agent åŠ©æ‰‹ (/agent)
- ReAct æ¶æ„æ™ºèƒ½åŠ©æ‰‹
- å¤šæ­¥æ¨ç†å’Œå·¥å…·è°ƒç”¨
- æ¨ç†è¿‡ç¨‹å¯è§†åŒ–

---

## API æ–‡æ¡£

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## å¼€å‘è¿›åº¦

### âœ… å·²å®Œæˆ (Week 1-2)

- [x] é¡¹ç›®åˆå§‹åŒ–ä¸æ¶æ„è®¾è®¡
- [x] Docker Composeå¼€å‘ç¯å¢ƒ
- [x] æ•°æ®åº“Schemaè®¾è®¡
- [x] æ–‡æ¡£ä¸Šä¼ ä¸å­˜å‚¨
- [x] æ–‡æœ¬åˆ‡å—æœåŠ¡
- [x] PDFè§£ææµæ°´çº¿
- [x] åµŒå…¥æ¨¡å‹é›†æˆ
- [x] å‘é‡æ•°æ®åº“é›†æˆ (pgvector)
- [x] å‘é‡æ£€ç´¢æœåŠ¡
- [x] LLMé—®ç­”é›†æˆ
- [x] **å‰ç«¯ç•Œé¢å¼€å‘**
- [x] **RAG-Anything å¤šæ¨¡æ€é›†æˆ**
- [x] **ReAct Agent æ™ºèƒ½åŠ©æ‰‹**

### ğŸš§ è¿›è¡Œä¸­ (Week 3-4)

- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] è®¢å•/å·¥å•ä¸šåŠ¡
- [ ] Kafkaäº‹ä»¶é©±åŠ¨
- [ ] Redisç¼“å­˜é›†æˆ
- [ ] å‹åŠ›æµ‹è¯•ä¸æ€§èƒ½ä¼˜åŒ–
- [ ] MVPå‘å¸ƒ v0.1.0

---

## æ–‡æ¡£

- [äº§å“åŠŸèƒ½æ–‡æ¡£](docs/PRODUCT_FEATURES.md)
- [Agent å‡çº§è·¯çº¿å›¾](docs/AGENT_UPGRADE_ROADMAP.md)
- [æœ¬åœ°åŒ–éƒ¨ç½²æŒ‡å—](docs/LOCAL_DEPLOYMENT.md)
- [å‰ç«¯å¼€å‘æ–‡æ¡£](ekp-web/README.md)
- [ç³»ç»Ÿæ¶æ„è®¾è®¡](ekp-infra/architecture.md)
- [Week 1 æ€»ç»“](ekp-infra/WEEK1_SUMMARY.md)
- [Week 2 æ€»ç»“](ekp-infra/WEEK2_SUMMARY.md)

---

## License

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) å¼€æºåè®®ã€‚

---

## è”ç³»æ–¹å¼

- **GitHub**: https://github.com/zhengwenze/Enterprise-Knowledge-Platform
